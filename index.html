<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>APLIKASI CEK KANTONG</title>

<script src="https://unpkg.com/html5-qrcode"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
<script src="https://cdn.jsdelivr.net/npm/xlsx/dist/xlsx.full.min.js"></script>

<style>
/* ===== STYLE ===== */
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap');
*{box-sizing:border-box;margin:0;padding:0;}
body {
    font-family: 'Poppins', sans-serif;

    /* BACKGROUND GAMBAR RESPONSIVE */
    background-image: url("back.png");
    background-repeat: no-repeat;
    background-position: center center;
    background-size: cover; /* menjaga proporsional dan menutupi seluruh layar */
    min-height: 100vh;

    /* Overlay gelap */
    position: relative;
    color: white;
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    padding: 20px;
}

/* Overlay gelap tetap */
body::before {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.6);
    z-index: -1;
}

/* Media Queries untuk mobile */
@media (max-width: 768px) {
    body {
        background-position: top center;
        background-size: cover; /* tetap proporsional */
        padding: 10px;
    }

    h2 {
        font-size: 20px;
    }

    input, button, select {
        width: 95%;
        font-size: 14px;
    }

    #totalData {
        font-size: 60px;
    }
}

@media (max-width: 480px) {
    body {
        background-position: center top;
        background-size: cover;
    }

    h2 {
        font-size: 18px;
    }

    #totalData {
        font-size: 50px;
    }

    input, button, select {
        width: 100%;
        font-size: 13px;
        padding: 10px;
    }
}
h2{font-size:24px; font-weight:700; color:#ff7a00; margin-bottom:20px; text-shadow:0 0 15px rgba(255,122,0,0.5);}
h3{margin-top:25px; margin-bottom:10px; font-weight:600; color:#ff9500;}
body > *{width:100%; max-width:450px; margin-bottom:15px; backdrop-filter: blur(15px); background: rgba(255,255,255,0.05); border-radius:20px; padding:15px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); transition:0.3s;}
#totalData{font-size:80px; font-weight:700; color:#ff7a00; text-shadow:0 0 25px rgba(255,122,0,0.8);}
input, button, select{width:90%; max-width:400px; padding:12px; margin:8px auto; border-radius:15px; border:none; font-size:15px; outline:none; display:block; text-align:center;}
input{background: rgba(255,255,255,0.15); color:white; backdrop-filter: blur(10px); transition:0.3s;}
input:focus{background: rgba(255,255,255,0.25);}
button{background: linear-gradient(45deg,#ff7a00,#ff9500); color:white; font-weight:600; cursor:pointer; box-shadow:0 5px 20px rgba(255,122,0,0.4); transition:0.3s;}
button:hover{transform: scale(1.05); box-shadow:0 8px 25px rgba(255,122,0,0.6);}
.success, .error{padding:12px; border-radius:15px; width:100%; margin:10px 0; font-weight:600; backdrop-filter: blur(10px); transition:0.3s;}
.success{background: rgba(15,81,50,0.7); color:#b6f7c1; box-shadow:0 5px 15px rgba(0,255,150,0.3);}
.error{background: rgba(132,32,41,0.7); color:#ffb6b6; box-shadow:0 5px 15px rgba(255,0,0,0.3);}
#reader{width:100%; max-width:350px; margin:15px auto; border-radius:20px; overflow:hidden; box-shadow:0 15px 35px rgba(0,0,0,0.6); border:2px solid rgba(255,255,255,0.2);}
table{width:100%; border-collapse:collapse; background: rgba(255,255,255,0.05); border-radius:20px; overflow:hidden; box-shadow:0 10px 25px rgba(0,0,0,0.5);}
th{background: rgba(20,40,80,0.8); color:white; padding:12px;}
td{padding:10px; border-bottom:1px solid rgba(255,255,255,0.1); text-align:center;}
tr:hover{background: rgba(255,255,255,0.1);}
.tab-buttons {display:flex; justify-content:center; margin-bottom:15px;}
.tab-btn {flex:1; padding:10px; margin:0 5px; border:none; border-radius:15px; background: rgba(255,255,255,0.1); color:white; font-weight:600; cursor:pointer; transition:0.3s;}
.tab-btn.active {background: linear-gradient(45deg,#ff7a00,#ff9500); box-shadow:0 5px 20px rgba(255,122,0,0.4);}
.tab-btn:hover {transform: scale(1.05);}
.tab-content {margin-top:10px; display:none;}
#userInfo {padding:10px; border-radius:15px; text-align:center; font-weight:600; margin-bottom:15px;}
#userInfo.admin { background: rgba(255,122,0,0.2); color: #ff7a00; }
#userInfo.petugas { background: rgba(0,123,255,0.2); color: #007bff; }
#userInfo.user { background: rgba(0,200,150,0.2); color: #00c896; }
#userInfo button {font-weight:600; cursor:pointer; transition:0.3s; margin-left:5px;}
#userInfo button:hover {transform: scale(1.05);}

/* ===== Sembunyikan elemen setelah login di halaman pertama ===== */
#totalData,
#filterKantong,
#reader,
table,
h3:nth-of-type(2),
h3:nth-of-type(3),
h3:nth-of-type(4)
{
    display: none;
}

#sectionTotal,
#sectionFilter {
    display: none;
}

/* Tombol logout rata tengah */
#userInfo {
    text-align: center;
}

#userInfo button {
    display: inline-block;
    margin: 8px 5px 0 5px;
}

/* ===== EFEK SHAKE ERROR ===== */
@keyframes shake {
  0% { transform: translateX(0); }
  20% { transform: translateX(-8px); }
  40% { transform: translateX(8px); }
  60% { transform: translateX(-8px); }
  80% { transform: translateX(8px); }
  100% { transform: translateX(0); }
}

.shake {
  animation: shake 0.4s ease;
}


/* ===== STYLE DROPDOWN JUDUL LEBIH TEBAL & KEREN ===== */
#filterKantong {
    font-weight: 700;
    font-size: 16px;
    letter-spacing: 1px;
    text-transform: uppercase;
    background: linear-gradient(45deg,#ff7a00,#ff9500);
    color: white;
    box-shadow: 0 5px 20px rgba(255,122,0,0.5);
}

/* Style option dropdown */
#filterKantong option {
    font-weight: 700;
    font-size: 15px;
    background: #142850;
    color: #ff9500;
}

/* ===== STYLE KHUSUS UNTUK SEMUA DATA KANTONG ===== */
#filterKantong option[value="all"] {
    font-weight: 900;
    font-size: 16px;
    color: #ffffff;
    background: linear-gradient(45deg,#ff7a00,#ff9500);
}

/* =============================== */
/* ===== NEON CYBER STYLE ======== */
/* =============================== */

.neon-upload {
    display: inline-block;
    padding: 14px 25px;
    margin: 10px auto;
    border-radius: 20px;
    font-weight: 700;
    font-size: 15px;
    letter-spacing: 2px;
    text-transform: uppercase;
    cursor: pointer;
    position: relative;
    color: #00f7ff;
    border: 2px solid #00f7ff;
    background: transparent;
    transition: 0.3s;
    box-shadow: 0 0 10px #00f7ff,
                0 0 20px #00f7ff,
                0 0 40px rgba(0,247,255,0.6);
    overflow: hidden;
}

/* Glow Animation */
@keyframes neonGlow {
    0% { box-shadow: 0 0 10px #00f7ff, 0 0 20px #00f7ff; }
    50% { box-shadow: 0 0 20px #00f7ff, 0 0 40px #00f7ff; }
    100% { box-shadow: 0 0 10px #00f7ff, 0 0 20px #00f7ff; }
}

.neon-upload {
    animation: neonGlow 1.5s infinite alternate;
}

/* Hover Effect */
.neon-upload:hover {
    background: #00f7ff;
    color: #0f1f3d;
    transform: scale(1.07);
}

/* UPLOAD BUTTON CYBER */
.neon-upload-btn {
    display: inline-block;
    padding: 14px 25px;
    border-radius: 20px;
    font-weight: 700;
    font-size: 15px;
    letter-spacing: 2px;
    text-transform: uppercase;
    cursor: pointer;
    border: 2px solid #ff00ff;
    background: transparent;
    color: #ff00ff;
    transition: 0.3s;
    box-shadow: 0 0 10px #ff00ff,
                0 0 25px #ff00ff,
                0 0 50px rgba(255,0,255,0.7);
}

/* Glow Pulse */
@keyframes pulsePink {
    0% { box-shadow: 0 0 10px #ff00ff; }
    50% { box-shadow: 0 0 40px #ff00ff; }
    100% { box-shadow: 0 0 10px #ff00ff; }
}

.neon-upload-btn {
    animation: pulsePink 1.8s infinite;
}

.neon-upload-btn:hover {
    background: #ff00ff;
    color: #0f1f3d;
    transform: scale(1.07);
}

.logo-header{
    width:130px;
    border-radius:50%;
    padding:10px;
    background: rgba(255,255,255,0.05);
    box-shadow: 
        0 0 15px #ff7a00,
        0 0 30px #ff9500,
        0 0 60px rgba(255,122,0,0.5);
    margin:0 auto 20px auto;
    display:block;
    transition:0.3s;
}



</style>
</head>
<body>
<br><br>
<img src="boit.png" class="logo-header"><br><br>
<h2>APLIKASI CEK KANTONG</h2>

<!-- LOGIN TAB -->
<div id="loginTabSection">
    <h3>Login Sistem</h3>
    <div class="tab-buttons">
        
        <button class="tab-btn" onclick="openTab('admin')">Admin</button>
        <button class="tab-btn" onclick="openTab('petugas')">Petugas</button>
    </div>

    <!-- USER -->
    <div class="tab-content" id="tab-user">
        <input type="text" id="usernameUser" placeholder="Username User">
        <input type="password" id="passwordUser" placeholder="Password User">
        <button onclick="loginUser()">Login User</button>
    </div>

    <!-- ADMIN -->
    <div class="tab-content" id="tab-admin">
        <input type="text" id="usernameAdmin" placeholder="Username Admin">
        <input type="password" id="passwordAdmin" placeholder="Password Admin">
        <button onclick="loginAdmin()">Login Admin</button>
    </div>

    <!-- PETUGAS -->
    <div class="tab-content" id="tab-petugas">
        <input type="text" id="usernamePetugas" placeholder="Username Petugas">
        <input type="password" id="passwordPetugas" placeholder="Password Petugas">
        <button onclick="loginPetugas()">Login Petugas</button>
    </div>
</div>

<!-- USER INFO & FORM -->
<div id="userInfo" style="display:none;">
    <span id="namaUser"></span>
    <button onclick="logout()">Logout</button>
    <button id="hapusSemuaBtn" onclick="hapusSemuaData()" style="display:none;">Hapus Semua Data</button>
</div>

    <!-- Admin Form -->
    <div id="formAdmin" style="display:none; margin-top:15px;">
        <input type="text" id="inputKantongAdmin" placeholder="Masukkan No Kantong">
        <input type="text" id="inputKategoriAdmin" placeholder="Buat Judul Data Kantong">
        <button onclick="uploadKantongAdmin()">Upload</button>
        <br><br>
 

<input type="file" id="fileExcelAdmin" accept=".csv,.xlsx" style="display:none;">



    <label for="fileExcelAdmin" class="neon-upload">
        ‚ö° PILIH FILE EXCEL ‚ö°
    </label>

    <button class="neon-upload-btn" onclick="uploadExcelAdmin()">
        üöÄ UPLOAD DATA
    </button>

    <!-- HAPUS PER JUDUL -->
    <hr>
    <h3>HAPUS DATA PER JUDUL</h3>
    <select id="hapusJudulDropdown"></select>
    <button onclick="hapusPerJudul()">‚ùå HAPUS JUDUL</button>

</div>

    <!-- Petugas Form -->
	      <div id="formPetugas" style="display:none; margin-top:15px;">
		  <h3>INPUT MANUAL</h3>
        <input type="text" id="manualScanPetugas" placeholder="Input Manual No Kantong">
        <button onclick="manualCheckPetugas()">Proses</button>
    </div>
</div>

<!-- TOTAL & LIST -->
<div id="sectionTotal">
    <p style="font-size:40px; font-weight:bold;">Total Kantong:<br>
    <span id="totalData">0</span></p>
	<p id="status"></p>
</div>

<div id="sectionFilter">

<h3>Scan Kantong</h3>
<div id="reader"></div>


    <h3>Filter Kantong</h3>
    <select id="filterKantong" onchange="filterList()">
    <option value="all">SEMUA DATA KANTONG</option>
	</select>


<h3>Daftar Kantong Tersedia</h3>
<table>
<thead><tr><th>No Kantong</th><th>Kategori</th></tr></thead>
<tbody id="listKantong"></tbody>

</table>


<script>
// ===== FIREBASE =====
var firebaseConfig = {
    apiKey: "AIzaSyAl13YXiUhCB2lvOcq_fq8qELbqvSeYc6E",
    authDomain: "db-inbound.firebaseapp.com",
    databaseURL: "https://db-inbound-default-rtdb.firebaseio.com",
    projectId: "db-inbound",
    storageBucket: "db-inbound.firebasestorage.app",
    messagingSenderId: "231875242890",
    appId: "1:231875242890:web:a4d17a047845b89c9ab673"
};

var beepSuccess = new Audio("https://actions.google.com/sounds/v1/cartoon/clang_and_wobble.ogg");
var beepError = new Audio("https://actions.google.com/sounds/v1/alarms/winding_alarm_clock.ogg");


firebase.initializeApp(firebaseConfig);
var db = firebase.database().ref("kantong");

// ===== LOGIN TAB =====
function openTab(role){
    document.querySelectorAll(".tab-content").forEach(d => d.style.display="none");
    document.querySelectorAll(".tab-btn").forEach(b => b.classList.remove("active"));
    document.getElementById("tab-"+role).style.display = "block";
    document.querySelector(".tab-btn[onclick='openTab(\""+role+"\")']").classList.add("active");
}

// ===== LOGIN FUNCTIONS =====
function loginUser(){
    var user = document.getElementById("usernameUser").value.trim();
    var pass = document.getElementById("passwordUser").value.trim();
    var akunUser = { user1:{password:"123"}, user2:{password:"123"} };
    if(akunUser[user] && akunUser[user].password===pass){
        sessionStorage.setItem("role","user");
        tampilkanHalaman("user");
    } else alert("Username/Password User salah!");
}

function loginAdmin(){
    var user = document.getElementById("usernameAdmin").value.trim();
    var pass = document.getElementById("passwordAdmin").value.trim();
    if(user==="Admin" && pass==="Di2tboit"){
        sessionStorage.setItem("role","Admin");
        tampilkanHalaman("admin");
    } else alert("Username/Password Admin salah!");
}

function loginPetugas(){
    var user = document.getElementById("usernamePetugas").value.trim();
    var pass = document.getElementById("passwordPetugas").value.trim();
    if(user==="Kcu Batam" && pass==="29400"){
        sessionStorage.setItem("role","Petugas");
        tampilkanHalaman("petugas");
    } else alert("Username/Password Petugas salah!");
}

// ===== TAMPILKAN HALAMAN BERDASARKAN ROLE =====
function tampilkanHalaman(role){
    document.getElementById("loginTabSection").style.display="none";
    var ui = document.getElementById("userInfo");
    ui.style.display="block";
    document.getElementById("namaUser").innerText = role.toUpperCase();

    ui.classList.remove("admin","petugas","user");
    document.getElementById("hapusSemuaBtn").style.display = "none";
    document.getElementById("formAdmin").style.display = "none";
    document.getElementById("formPetugas").style.display = "none";

    if(role==="admin"){
        ui.classList.add("admin");
        document.getElementById("hapusSemuaBtn").style.display="inline-block";
        document.getElementById("formAdmin").style.display="block";
    }
    if(role==="petugas"){
        ui.classList.add("petugas");
        document.getElementById("formPetugas").style.display="block";
    }
    if(role==="user"){
        ui.classList.add("user");
    }

    // Tampilkan semua elemen setelah login
    document.getElementById("totalData").style.display="block";
    document.getElementById("filterKantong").style.display="block";
    document.getElementById("reader").style.display="block";
    document.querySelector("table").style.display="table";
    document.querySelectorAll("h3")[1].style.display="block";
    document.querySelectorAll("h3")[2].style.display="block";
    document.querySelectorAll("h3")[3].style.display="block";
	document.getElementById("sectionTotal").style.display = "block";
    document.getElementById("sectionFilter").style.display = "block";
	
	// Tampilkan elemen umum
document.getElementById("sectionTotal").style.display = "block";
document.getElementById("sectionFilter").style.display = "block";
document.getElementById("totalData").style.display="block";
document.getElementById("filterKantong").style.display="block";
document.querySelector("table").style.display="table";

// Default sembunyikan scan
document.getElementById("reader").style.display="none";
document.getElementById("status").style.display="none";
document.querySelectorAll("h3")[2].style.display="none"; // Judul Scan Kantong

// Scan hanya untuk PETUGAS dan USER
if(role==="petugas" || role==="user"){
    document.getElementById("reader").style.display="block";
    document.getElementById("status").style.display="block";
    document.querySelectorAll("h3")[2].style.display="block";
}
}

// ===== LOGOUT =====
function logout(){
    sessionStorage.removeItem("role");
    location.reload();
}

// ===== ADMIN FUNCTIONS =====
function uploadKantongAdmin(){
    var kode = document.getElementById("inputKantongAdmin").value.trim();
    var judul = document.getElementById("inputKategoriAdmin").value.trim().toUpperCase();

    if(!kode || !judul){
        alert("Isi No Kantong & Judul!");
        return;
    }

    db.child(judul).child(kode).set(true);

    alert("Data berhasil ditambahkan ke judul " + judul);

    document.getElementById("inputKantongAdmin").value="";
    document.getElementById("inputKategoriAdmin").value="";
}

// Upload Excel
function uploadExcelAdmin(){
    var fileInput = document.getElementById("fileExcelAdmin");
    var file = fileInput.files[0];
    if(!file){ 
        alert("Pilih file dulu!"); 
        return; 
    }

    var judul = prompt("Masukkan Judul Data (contoh: SPX_15MEI):");
    if(!judul){
        alert("Judul harus diisi!");
        return;
    }

    judul = judul.toUpperCase();

    var reader = new FileReader();

    reader.onload = function(e){
        var data = new Uint8Array(e.target.result);
        var workbook = XLSX.read(data,{type:'array'});
        var sheet = workbook.Sheets[workbook.SheetNames[0]];
        var rows = XLSX.utils.sheet_to_json(sheet,{header:1});
        var count=0;

        rows.forEach(r=>{
            r.forEach(c=>{
                if(c!==undefined && c!==null && String(c).trim()!==""){
                    db.child(judul)
                      .child(String(c).trim())
                      .set(true);
                    count++;
                }
            });
        });

        alert("üî• Berhasil upload "+count+" data dengan judul "+judul);
        fileInput.value="";
    };

    reader.readAsArrayBuffer(file);
}

// ===== PETUGAS FUNCTIONS =====
function manualCheckPetugas(){
    var kode = document.getElementById("manualScanPetugas").value.trim();
    var judulDipilih = document.getElementById("filterKantong").value;

    if(!kode){
        alert("ISI NO KANTONG DULU !!!!");
        return;
    }

    if(judulDipilih === "all"){
        alert("Pilih judul dulu sebelum proses!");
        return;
    }

    db.child(judulDipilih).once("value", snap=>{
        var data = snap.val();

        if(data && data[kode]){
            db.child(judulDipilih).child(kode).remove();
            bersihkanJudulKosong();
            beepSuccess.play();
            document.getElementById("status").innerHTML="<span class='success'>‚úÖ OK KANTONG SUDAH DI TERIMA</span>";
        } else {
            beepError.play();
            shakeScreen();
            document.getElementById("status").innerHTML="<span class='error'>‚ùå KANTONG TIDAK TERDAFTAR</span>";
        }
    });

    document.getElementById("manualScanPetugas").value="";
}
// ===== SCAN QR =====
function onScanSuccess(decodedText){

    var judulDipilih = document.getElementById("filterKantong").value;

    if(judulDipilih === "all"){
        alert("Pilih judul dulu sebelum scan!");
        return;
    }

    db.child(judulDipilih).once("value", snap=>{
        var data = snap.val();

        if(data && data[decodedText]){
            db.child(judulDipilih).child(decodedText).remove();
            bersihkanJudulKosong();
            beepSuccess.play();
            document.getElementById("status").innerHTML="<span class='success'>‚úÖ OK KANTONG SUDAH DI TERIMA</span>";
        } else {
            beepError.play();
            shakeScreen();
            document.getElementById("status").innerHTML="<span class='error'>‚ùå KANTONG TIDAK TERDAFTAR</span>";
        }
    });
}

var html5QrcodeScanner = new Html5QrcodeScanner("reader",{fps:10,qrbox:250});
html5QrcodeScanner.render(onScanSuccess);

// ===== FILTER LIST & REALTIME =====
function filterList(){
    var filter = document.getElementById("filterKantong").value;
    var list = document.getElementById("listKantong");
    list.innerHTML="";
    var total=0;

    db.on("value", snap=>{
        var data = snap.val();
        list.innerHTML="";
        total=0;

        if(data){
            if(filter==="all"){
                for(var judul in data){
                    for(var kode in data[judul]){
                        list.innerHTML+="<tr><td>"+kode+"</td><td>"+judul+"</td></tr>";
                        total++;
                    }
                }
            }else{
                if(data[filter]){
                    for(var kode in data[filter]){
                        list.innerHTML+="<tr><td>"+kode+"</td><td>"+filter+"</td></tr>";
                        total++;
                    }
                }
            }
        }

        document.getElementById("totalData").innerText = total;
        loadDropdownJudul(data);
    });
}

// ===== HAPUS SEMUA DATA =====
function hapusSemuaData(){
    if(confirm("Yakin ingin menghapus semua data?")){
        db.remove();
        alert("Semua data berhasil dihapus!");
    }
}

// ===== CEK SESSION SAAT RELOAD =====
window.onload=function(){
    var role=sessionStorage.getItem("role");
    if(role) tampilkanHalaman(role);
	filterList();
};

// ===== ENTER UNTUK LOGIN & PROSES =====
document.addEventListener("keydown", function(event){
    if(event.key === "Enter"){
        var role = sessionStorage.getItem("role");

        // Jika BELUM login
        if(!role){
            if(document.getElementById("tab-admin").style.display === "block"){
                loginAdmin();
            }
            else if(document.getElementById("tab-petugas").style.display === "block"){
                loginPetugas();
            }
            else if(document.getElementById("tab-user").style.display === "block"){
                loginUser();
            }
        }
        // Jika sudah login sebagai petugas (manual proses)
        else if(role === "Petugas"){
            manualCheckPetugas();
        }
    }
});

function loadDropdownJudul(data){
    var dropdown = document.getElementById("filterKantong");
    var hapusDropdown = document.getElementById("hapusJudulDropdown");
    var current = dropdown.value;

    dropdown.innerHTML = "<option value='all'>SEMUA DATA KANTONG</option>";
    hapusDropdown.innerHTML = "<option value=''>PILIH JUDUL</option>";

    if(data){
        for(var judul in data){
            dropdown.innerHTML += "<option value='"+judul+"'>"+judul+"</option>";
            hapusDropdown.innerHTML += "<option value='"+judul+"'>"+judul+"</option>";
        }
    }

    dropdown.value = current;
}

function bersihkanJudulKosong(){
    db.once("value", snap=>{
        var data = snap.val();
        if(data){
            for(var judul in data){
                if(!data[judul] || Object.keys(data[judul]).length === 0){
                    db.child(judul).remove();
                }
            }
        }
    });
}

function exportPerJudul(){
    var filter = document.getElementById("filterKantong").value;
    if(filter === "all"){
        alert("Pilih judul dulu!");
        return;
    }

    db.child(filter).once("value", snap=>{
        var data = snap.val();
        if(!data){
            alert("Tidak ada data!");
            return;
        }

        var rows = [];
        for(var kode in data){
            rows.push([kode]);
        }

        var ws = XLSX.utils.aoa_to_sheet(rows);
        var wb = XLSX.utils.book_new();
        XLSX.utils.book_append_sheet(wb, ws, filter);
        XLSX.writeFile(wb, filter + ".xlsx");
    });
}

function hapusPerJudul(){
    var judul = document.getElementById("hapusJudulDropdown").value;

    if(!judul){
        alert("Pilih judul dulu!");
        return;
    }

    if(confirm("Yakin ingin menghapus semua data dalam judul " + judul + " ?")){
        db.child(judul).remove();
        alert("Data dalam judul " + judul + " berhasil dihapus!");
    }
}

function shakeScreen(){
    document.body.classList.add("shake");

    setTimeout(function(){
        document.body.classList.remove("shake");
    }, 400);
}

</script>
</body>
</html>



